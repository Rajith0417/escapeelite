"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[488],{2714:(e,t,l)=>{l.d(t,{A:()=>n});var s=l(5155),a=l(2115);let n=function(e){let{onSubmit:t,isLoading:l,isPage:n=!1}=e,[r,i]=(0,a.useState)([{adults:2,children:0,childAges:[]}]),d=(e,t,l)=>{i(s=>{let a=[...s],n=Math.max(0,l);return a[e][t]=n,"children"===t&&(a[e].childAges=Array(n).fill(0)),a})};return!l&&(0,s.jsxs)("div",{className:"p-6 ".concat(n?"text-black":"text-white"," rounded-xl space-y-6 w-full font-poppins"),children:[(0,s.jsxs)("div",{className:"space-y-2 w-[255px] text-md font-normal",children:[(0,s.jsx)("label",{className:"block",children:"Number of Rooms (1-10):"}),(0,s.jsx)("select",{value:r.length,onChange:e=>(e=>{let t=[];for(let l=0;l<e;l++)t.push(r[l]||{adults:2,children:0,childAges:[]});i(t)})(Number(e.target.value)),className:"".concat(n?"border-black":"border-white"," w-full px-4 py-2 rounded-full text-md border bg-transparent focus:outline-none"),children:Array.from({length:10},(e,t)=>(0,s.jsx)("option",{value:t+1,children:String(t+1).padStart(2,"0")},t+1))})]}),r.map((e,t)=>(0,s.jsxs)("div",{className:"space-y-6 flex items-baseline",children:[(0,s.jsxs)("p",{className:"font-normal text-md w-24",children:["Room ",t+1]}),(0,s.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between font-normal text-md",children:[(0,s.jsx)("span",{className:"w-24",children:"Adults"}),(0,s.jsxs)("div",{className:"".concat(n?"border-black":"border-white"," w-[160px] flex items-center gap-6 px-4 py-2 border rounded-full"),children:[(0,s.jsx)("button",{onClick:()=>d(t,"adults",e.adults-1),className:"flex justify-center items-center w-6 h-6 bg-transparent border border-white  rounded-3xl",children:"-"}),(0,s.jsx)("span",{className:"",children:String(e.adults).padStart(2,"0")}),(0,s.jsx)("button",{onClick:()=>d(t,"adults",e.adults+1),className:"flex justify-center items-center w-6 h-6 bg-white text-gray-900 rounded-full",children:"+"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between font-normal text-md",children:[(0,s.jsx)("span",{className:"w-24",children:"Children"}),(0,s.jsxs)("div",{className:"".concat(n?"border-black":"border-white"," w-[160px] flex items-center gap-6 px-4 py-2 border rounded-full"),children:[(0,s.jsx)("button",{onClick:()=>d(t,"children",e.children-1),className:"flex justify-center items-center w-6 h-6 bg-transparent border border-white rounded-full",children:"-"}),(0,s.jsx)("span",{className:"",children:String(e.children).padStart(2,"0")}),(0,s.jsx)("button",{onClick:()=>d(t,"children",e.children+1),className:"flex justify-center items-center w-6 h-6 bg-white text-gray-900 rounded-full",children:"+"})]})]}),e.children>0&&e.childAges.map((e,l)=>(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("span",{className:"w-24 font-normal text-md",children:["Child ",String(l+1).padStart(2,"0")]}),(0,s.jsxs)("select",{value:e,onChange:e=>{var s;return s=Number(e.target.value),void i(e=>{let a=[...e];return a[t].childAges[l]=s,a})},className:"".concat(n?"text-black":"text-white"," w-[160px] px-4 py-2 rounded-full border font-normal text-md bg-transparent focus:outline-none"),children:[(0,s.jsx)("option",{value:0,children:"-"}),Array.from({length:17},(e,t)=>(0,s.jsx)("option",{value:t+1,children:t+1},t+1))]})]},l))]})]},t)),(0,s.jsx)("button",{onClick:()=>{t(r.map((e,t)=>{let l="".concat(e.adults," adult").concat(1!==e.adults?"s":""),s=e.children>0?"".concat(e.children," child").concat(1!==e.children?"ren":""," with children aged ").concat(e.childAges.join(", ")):"0 children";return"Room ".concat(t+1,": ").concat(l,", ").concat(s)}).join(", "))},className:"".concat(n?"border-blue-400":"border-white"," border w-auto px-6 py-3 bg-white text-gray-900 rounded-full font-normal text-md"),children:"Submit"})]})}},5086:(e,t,l)=>{l.d(t,{default:()=>i});var s=l(5155),a=l(2115),n=l(5239),r=l(2714);let i=function(e){let{chatbotId:t}=e,[l,i]=(0,a.useState)([]),[d,o]=(0,a.useState)([]),[c,u]=(0,a.useState)(null),[x,m]=(0,a.useState)(null),[h,p]=(0,a.useState)(""),[b,f]=(0,a.useState)(""),[g,v]=(0,a.useState)(""),[j,y]=(0,a.useState)(!1),[N,w]=(0,a.useState)(null),[S,E]=(0,a.useState)([{roomTypeName:"STANDARD STAY",adults:1,children:0,childAges:[]}]),C=(0,a.useRef)(null),D="/escapeelite";(0,a.useEffect)(()=>{(async()=>{try{var e,l,s,a;let n=await fetch("https://d5ulwibf6e.execute-api.ap-south-1.amazonaws.com/prod/api/v1/questionnaires/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questionnaireId:t,message:"Hello and welcome to Escape Elite!"})}),r=await n.json();if(console.log("Start API:",r),u(r.sessionId),(null==(e=r.questionnaireConfig)?void 0:e.welcomeMessage)&&i([{sender:"bot",text:r.questionnaireConfig.welcomeMessage}]),null==(l=r.nextQuestion)?void 0:l.question){let e=r.nextQuestion.question;m(e),i(t=>[...t,{sender:"bot",text:e.longText}]),o(null!=(a=null==(s=e.answers)?void 0:s.map(e=>e.answer))?a:[])}}catch(e){console.error("Start error:",e),w("Failed to start chat. Please refresh and try again.")}})()},[]),(0,a.useEffect)(()=>{T()},[l,j]);let T=()=>{C.current&&(C.current.scrollTop=C.current.scrollHeight)},k=async e=>{if(!c||!x)return;y(!0),w(null),i(t=>[...t,{sender:"user",text:e}]),o([]);let t={questionId:x.PK,shortText:x.shortText,answer:e,sessionId:c};try{var l,s,a,n;let e=await fetch("https://d5ulwibf6e.execute-api.ap-south-1.amazonaws.com/prod/api/v1/user-responses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await e.json();if(console.log("Response API:",r),null==(l=r.nextQuestion)?void 0:l.question){let e=r.nextQuestion.question;m(e),i(t=>[...t,{sender:"bot",text:e.longText}]),o(null!=(n=null==(a=e.answers)?void 0:a.map(e=>e.answer))?n:[]),f(""),v(""),p("")}else(null==(s=r.questionnaireConfig)?void 0:s.endingMessage)&&(i(e=>{var t,l;return[...e,{sender:"bot",text:null!=(l=null==r||null==(t=r.questionnaireConfig)?void 0:t.endingMessage)?l:""}]}),m(null))}catch(t){console.error("Response error:",t);let e="Sorry, there was an error processing your response. Please try again.";w(e),i(t=>[...t,{sender:"bot",text:e}])}finally{y(!1)}},A=()=>{h.trim()&&!j&&(k(h),p(""))},L=e=>{"Enter"!==e.key||j||A()},q=()=>{b.trim()&&!j&&(k(I(b)),f(""))},M=()=>{g.trim()&&!j&&(k(g),v(""))},I=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),O=()=>{var e;let[t,l]=(0,a.useState)({}),[n,r]=(0,a.useState)({});if((0,a.useEffect)(()=>{var e;if(null==x||null==(e=x.responseDomain)?void 0:e.sliders){let e={};x.responseDomain.sliders.forEach(t=>{e[t.id]=t.defaultValue||0}),l(e)}},[x]),!(null==x||null==(e=x.responseDomain)?void 0:e.sliders))return(0,s.jsx)("div",{children:"No sliders configured"});let i=x.responseDomain.sliders;return(0,s.jsxs)("div",{className:"p-4 space-y-6 overflow-scroll",children:[i.map((e,a)=>(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("label",{className:"text-blue-400 text-base font-normal",children:e.shortText}),(0,s.jsx)("span",{className:"text-blue-400 font-normal",children:t[e.id]||0})]}),(0,s.jsx)("input",{type:"range",min:e.minValue,max:e.maxValue,step:e.step||1,value:t[e.id]||0,onChange:t=>{var s,a;return s=e.id,a=parseInt(t.target.value),void(l(e=>({...e,[s]:a})),r(e=>{let t={...e};return delete t[s],t}))},className:"w-full h-2 bg-blue-100 rounded-lg appearance-none cursor-pointer"}),(0,s.jsxs)("div",{className:"flex items-center justify-between space-x-2",children:[(0,s.jsx)("span",{className:"text-blue-400 text-base font-normal w-12",children:e.minLabel}),(0,s.jsx)("span",{className:"text-blue-400 text-base font-normal w-12 text-right",children:e.maxLabel})]}),n[e.id]&&(0,s.jsx)("p",{className:"text-xs text-red-500",children:n[e.id]})]},e.id)),(0,s.jsx)("button",{onClick:()=>{(()=>{let e={},l=!0;return i.forEach(s=>{let a=t[s.id]||0;s.required&&0===a&&(e[s.id]="This field is required",l=!1),s.crossValidations&&s.crossValidations.length>0&&s.crossValidations.forEach(s=>{if(s.expression.includes("Relaxation")&&s.expression.includes("Extreme Adventure")){let a=i.find(e=>"Relaxation"===e.shortText),n=i.find(e=>"Extreme Adventure"===e.shortText);if(a&&n){let r=t[a.id]||0,i=t[n.id]||0;r>=6&&i>=1&&(e[n.id]=s.errorMessage,l=!1)}}})}),r(e),l})()&&k(JSON.stringify(i.map(e=>({[e.shortText]:t[e.id]||0}))))},disabled:j,className:"text-md font-normal px-6 py-2.5 bg-white text-blue-400 rounded-full border border-blue-400 hover:bg-blue-50 disabled:opacity-50",children:j?"...":"Submit"})]})},P=()=>{var e;let[t,l]=(0,a.useState)({}),[n,r]=(0,a.useState)({});if((0,a.useEffect)(()=>{var e;if(null==x||null==(e=x.responseDomain)?void 0:e.textFields){let e={};x.responseDomain.textFields.forEach(t=>{e[t.id]=""}),l(e)}},[x]),!(null==x||null==(e=x.responseDomain)?void 0:e.textFields))return(0,s.jsx)("div",{children:"No form fields configured"});let i=x.responseDomain.textFields;return(0,s.jsxs)("div",{className:"p-4 space-y-4",children:[i.map(e=>(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("input",{type:e.type||"text",value:t[e.id]||"",onChange:t=>{var s,a;return s=e.id,a=t.target.value,void(l(e=>({...e,[s]:a})),r(e=>{let t={...e};return delete t[s],t}))},placeholder:e.placeholder||"",className:"text-md font-normal placeholder-blue-400 w-full px-6 py-2.5 bg-white text-blue-400 rounded-[100px] border border-blue-400 focus:outline-0","aria-invalid":!!n[e.id],"aria-describedby":n[e.id]?"".concat(e.id,"-error"):void 0}),n[e.id]&&(0,s.jsx)("p",{id:"".concat(e.id,"-error"),className:"text-xs text-red-500",children:n[e.id]})]},e.id)),(0,s.jsx)("button",{onClick:()=>{if((()=>{let e={},l=!0;return i.forEach(s=>{var a,n;let r=t[s.id]||"";s.required&&!r.trim()&&(e[s.id]="This field is required",l=!1),"email"===s.type&&r&&!/\S+@\S+\.\S+/.test(r)&&(e[s.id]="Please enter a valid email address",l=!1),"tel"===s.type&&r&&!/^[+]?[\d\s\-()]+$/.test(r)&&(e[s.id]="Please enter a valid phone number",l=!1),(null==(a=s.validation)?void 0:a.minLength)&&r.length<s.validation.minLength&&(e[s.id]="Must be at least ".concat(s.validation.minLength," characters"),l=!1),(null==(n=s.validation)?void 0:n.maxLength)&&r.length>s.validation.maxLength&&(e[s.id]="Must be at most ".concat(s.validation.maxLength," characters"),l=!1)}),r(e),l})()){let e={};i.forEach(l=>{e[l.label]=t[l.id]||""}),k(JSON.stringify(e))}},disabled:j,className:"text-md font-normal px-6 py-2.5 bg-white text-blue-400 rounded-[100px] border border-blue-400 disabled:hidden",children:j?"...":"Submit"})]})};return(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 w-full md:w-auto h-[680px] flex flex-col overflow-hidden",children:[(0,s.jsx)("div",{className:"bg-[#38424B] px-4 py-3 flex items-center justify-between",children:(0,s.jsx)(n.default,{src:"".concat(D,"/logo.png"),alt:"Escape Elite",width:50,height:0,className:"h-8 w-auto object-cover"})}),(0,s.jsxs)("div",{ref:C,className:"flex-1 p-4 overflow-y-auto space-y-3",children:[l.map((e,t)=>(0,s.jsx)("div",{className:"flex ".concat("bot"===e.sender?"justify-start":"justify-end"),children:"bot"===e.sender?(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)(n.default,{src:"".concat(D,"/images/user.png"),alt:"chatbot",width:10,height:10,className:"w-10 h-10 rounded-full"}),(0,s.jsx)("div",{className:" text-md font-normal bg-[#E5E5E5] text-gray-800 px-4 py-2 rounded-2xl max-w-[75%]",children:e.text})]}):(0,s.jsxs)("div",{className:"flex items-start gap-2 flex-row-reverse",children:[(0,s.jsx)(n.default,{src:"".concat(D,"/images/user.png"),alt:"chatbot",width:10,height:10,className:"w-10 h-10 rounded-full"}),(0,s.jsx)("div",{className:"text-md font-normal bg-[#E5E5E5] text-blue-400 px-6 py-2 rounded-2xl max-w-[75%]",children:e.text})]})},t)),j&&(0,s.jsx)("div",{className:"flex justify-start",children:(0,s.jsx)("div",{className:"px-4 py-2 rounded-2xl bg-gray-200 text-gray-800",children:(0,s.jsxs)("div",{className:"flex space-x-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce"}),(0,s.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,s.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),N&&!j&&(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("div",{className:"px-4 py-2 rounded-lg bg-red-100 text-red-800 text-sm",children:N})}),(()=>{var e,t,l,a,n,i,o,c,u;if(!x)return null;switch(x.questionType){case"DATE_PICKER":return(0,s.jsxs)("div",{className:"p-3",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3 items-start space-x-2",children:[(0,s.jsx)("input",{type:"date",value:b,onChange:e=>f(e.target.value),min:(null==x||null==(a=x.responseDomain)||null==(l=a.validation)?void 0:l.minDate)?x.responseDomain.validation.minDate:new Date().toISOString().split("T")[0],max:(null==x||null==(i=x.responseDomain)||null==(n=i.validation)?void 0:n.maxDate)?x.responseDomain.validation.maxDate:"",disabled:j,className:"text-md font-normal min-w-1/2 flex-1 px-6 py-2.5 bg-bg-white text-blue-400 rounded-full border border-blue-400  focus:border-blue-400 disabled:bg-gray-100","aria-label":"Select date"}),(0,s.jsx)("button",{onClick:q,disabled:!b||j,className:"text-md font-normal px-6 py-2.5 bg-white text-blue-400 rounded-full border border-blue-400 disabled:hidden",children:j?"...":"Select"})]}),(null==x||null==(t=x.responseDomain)||null==(e=t.validation)?void 0:e.minDate)&&(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Minimum date:"," ",I(x.responseDomain.validation.minDate)]}),N&&(0,s.jsx)("p",{className:"text-xs text-red-500 mt-1",children:N})]});case"DROP_DOWN":case"SELECT":let m=d.length>0?d:(null==x||null==(o=x.responseDomain)?void 0:o.options)||[];return(0,s.jsxs)("div",{className:"p-3",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3 flex-col space-x-2",children:[(0,s.jsxs)("select",{value:g,onChange:e=>v(e.target.value),disabled:j,className:"text-md font-normal flex-1 border text-blue-400 border-blue-400 rounded-[100px] px-6 py-2.5 focus-visible:border-[1px] focus:outline-0 focus:border-blue-400 disabled:bg-gray-100","aria-label":"Select from dropdown",children:[(0,s.jsx)("option",{value:"",children:"Select an option"}),m.map((e,t)=>(0,s.jsx)("option",{value:e,children:e},t))]}),(0,s.jsx)("button",{onClick:M,disabled:!g||j,className:"text-md font-normal px-4 py-2 border border-blue-400 bg-white text-blue-400 rounded-[100px] hover:outline-0 disabled:hidden",children:j?"...":"Submit"})]}),(null==x||null==(u=x.responseDomain)||null==(c=u.validation)?void 0:c.required)&&(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"This field is required"}),N&&(0,s.jsx)("p",{className:"text-xs text-red-500 mt-1",children:N})]});case"MCQ_SINGLE_CHOICE":case"MCQ_MULTIPLE_CHOICE":if(d.length>0)return(0,s.jsx)("div",{className:"p-3 flex flex-wrap gap-2 bg-white",children:d.map((e,t)=>(0,s.jsx)("button",{onClick:()=>k(e),disabled:j,className:"font-normal text-md px-6 py-2.5 bg-bg-white text-blue-400 rounded-full border border-blue-400 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-500",children:e},t))});return(0,s.jsxs)("div",{className:"p-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{value:h,onChange:e=>{p(e.target.value),N&&w(null)},onKeyPress:L,placeholder:"Type your message...",disabled:j,className:"flex-1 border rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:hidden"}),(0,s.jsx)("button",{onClick:A,disabled:!h.trim()||j,className:"text-md font-normal px-4 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 disabled:hidden",children:j?"...":"Send"})]}),N&&(0,s.jsx)("p",{className:"text-xs text-red-500 mt-1",children:N})]});case"MULTI_SLIDER":return(0,s.jsx)(O,{});case"MULTIPLE_FREE_FORM_TEXT":return(0,s.jsx)(P,{});case"ROOM_SELECTION":return(0,s.jsx)(r.A,{onSubmit:e=>k(e),isLoading:j,isPage:!0});default:return null}})()]})]})}},7189:(e,t,l)=>{l.d(t,{default:()=>n});var s=l(5155);l(2115);var a=l(5239);function n(e){let{image:t,titleDesktop:l,titleMobile:n,paragraph:r,rating:i,fullScreen:d=!0}=e;return(0,s.jsxs)("section",{id:"home",className:"relative ".concat(d?"h-screen":"h-[306px] md:h-[700px]"),children:[(0,s.jsx)(a.default,{src:"".concat("/escapeelite").concat(t),alt:"",fill:!0,className:"object-cover object-center"}),(0,s.jsx)("div",{className:"absolute z-0 inset-0 bg-black opacity-50"}),(0,s.jsxs)("div",{className:"container h-full w-full px-5 mx-auto flex flex-col md:flex-row items-center justify-center md:justify-start text-white text-center]",children:[(0,s.jsxs)("div",{className:"hidden float-left z-10 md:w-1/2 md:block pl-16",children:[(0,s.jsx)("h2",{className:"text-4xl md:text-4xl font-medium mb-4 text-left",children:l}),(0,s.jsx)("p",{children:r}),i&&(0,s.jsx)("div",{className:"flex items-center mb-5",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsx)("svg",{className:"w-10 h-10 ".concat(void 0!==i&&t<i?"text-yellow-400":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t))})]}),(0,s.jsxs)("div",{className:"px-2 md:px-16 z-10 md:hidden text-center md:text-left",children:[(0,s.jsx)("h2",{className:"text-4xl md:text-4xl font-medium mb-4",children:n}),(0,s.jsx)("p",{children:r})]})]})]})}}}]);