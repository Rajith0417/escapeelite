(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[977],{5086:(e,s,t)=>{"use strict";t.d(s,{default:()=>i});var l=t(5155),a=t(2115),r=t(5239);let i=()=>{let[e,s]=(0,a.useState)([]),[t,i]=(0,a.useState)([]),[n,d]=(0,a.useState)(null),[o,c]=(0,a.useState)(null),[u,x]=(0,a.useState)(""),[m,b]=(0,a.useState)(""),[h,p]=(0,a.useState)(""),[f,g]=(0,a.useState)(!1),[v,j]=(0,a.useState)(null),[y,N]=(0,a.useState)([{roomTypeName:"STANDARD STAY",adults:1,children:0,childAges:[]}]);(0,a.useEffect)(()=>{(async()=>{try{var e,t,l,a;let r=await fetch("https://d5ulwibf6e.execute-api.ap-south-1.amazonaws.com/prod/api/v1/questionnaires/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questionnaireId:"f9abbd99-4a16-4ff1-953b-b80bed2f8b28",message:"Hello and welcome to Escape Elite!"})}),n=await r.json();if(console.log("Start API:",n),d(n.sessionId),(null==(e=n.questionnaireConfig)?void 0:e.welcomeMessage)&&s([{sender:"bot",text:n.questionnaireConfig.welcomeMessage}]),null==(t=n.nextQuestion)?void 0:t.question){let e=n.nextQuestion.question;c(e),s(s=>[...s,{sender:"bot",text:e.longText}]),i(null!=(a=null==(l=e.answers)?void 0:l.map(e=>e.answer))?a:[])}}catch(e){console.error("Start error:",e),j("Failed to start chat. Please refresh and try again.")}})()},[]);let w=async e=>{if(!n||!o)return;g(!0),j(null),s(s=>[...s,{sender:"user",text:e}]),i([]);let t={questionId:o.PK,shortText:o.shortText,answer:e,sessionId:n};try{var l,a,r,d;let e=await fetch("https://d5ulwibf6e.execute-api.ap-south-1.amazonaws.com/prod/api/v1/user-responses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await e.json();if(console.log("Response API:",n),null==(l=n.nextQuestion)?void 0:l.question){let e=n.nextQuestion.question;c(e),s(s=>[...s,{sender:"bot",text:e.longText}]),i(null!=(d=null==(r=e.answers)?void 0:r.map(e=>e.answer))?d:[]),b(""),p(""),x("")}else(null==(a=n.questionnaireConfig)?void 0:a.endingMessage)&&(s(e=>{var s,t;return[...e,{sender:"bot",text:null!=(t=null==n||null==(s=n.questionnaireConfig)?void 0:s.endingMessage)?t:""}]}),c(null))}catch(t){console.error("Response error:",t);let e="Sorry, there was an error processing your response. Please try again.";j(e),s(s=>[...s,{sender:"bot",text:e}])}finally{g(!1)}},S=()=>{u.trim()&&!f&&(w(u),x(""))},C=e=>{"Enter"!==e.key||f||S()},E=()=>{m.trim()&&!f&&(w(T(m)),b(""))},D=()=>{h.trim()&&!f&&(w(h),p(""))},T=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),L=()=>{var e;let[s,t]=(0,a.useState)({}),[r,i]=(0,a.useState)({});if((0,a.useEffect)(()=>{var e;if(null==o||null==(e=o.responseDomain)?void 0:e.sliders){let e={};o.responseDomain.sliders.forEach(s=>{e[s.id]=s.defaultValue||0}),t(e)}},[o]),!(null==o||null==(e=o.responseDomain)?void 0:e.sliders))return(0,l.jsx)("div",{children:"No sliders configured"});let n=o.responseDomain.sliders;return(0,l.jsxs)("div",{className:"p-4 border-t bg-gray-50 space-y-6 overflow-scroll",children:[n.map((e,a)=>(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("label",{className:"text-blue-400 text-base font-normal",children:e.shortText}),(0,l.jsx)("span",{className:"text-blue-400 font-normal",children:s[e.id]||0})]}),(0,l.jsx)("input",{type:"range",min:e.minValue,max:e.maxValue,step:e.step||1,value:s[e.id]||0,onChange:s=>((e,s)=>{t(t=>({...t,[e]:s})),i(s=>{let t={...s};return delete t[e],t})})(e.id,parseInt(s.target.value)),className:"w-full h-2 bg-blue-100 rounded-lg appearance-none cursor-pointer"}),(0,l.jsxs)("div",{className:"flex items-center justify-between space-x-2",children:[(0,l.jsx)("span",{className:"text-blue-400 text-base font-normal w-12",children:e.minLabel}),(0,l.jsx)("span",{className:"text-blue-400 text-base font-normal w-12 text-right",children:e.maxLabel})]}),r[e.id]&&(0,l.jsx)("p",{className:"text-xs text-red-500",children:r[e.id]})]},e.id)),(0,l.jsx)("button",{onClick:()=>{(()=>{let e={},t=!0;return n.forEach(l=>{let a=s[l.id]||0;l.required&&0===a&&(e[l.id]="This field is required",t=!1),l.crossValidations&&l.crossValidations.length>0&&l.crossValidations.forEach(l=>{if(l.expression.includes("Relaxation")&&l.expression.includes("Extreme Adventure")){let a=n.find(e=>"Relaxation"===e.shortText),r=n.find(e=>"Extreme Adventure"===e.shortText);if(a&&r){let i=s[a.id]||0,n=s[r.id]||0;i>=6&&n>=1&&(e[r.id]=l.errorMessage,t=!1)}}})}),i(e),t})()&&w(JSON.stringify(n.map(e=>({[e.shortText]:s[e.id]||0}))))},disabled:f,className:"px-6 py-2.5 bg-white text-blue-400 rounded-full border border-blue-400 hover:bg-blue-50 disabled:opacity-50",children:f?"...":"Submit"})]})},k=()=>{var e;let[s,t]=(0,a.useState)({}),[r,i]=(0,a.useState)({});if((0,a.useEffect)(()=>{var e;if(null==o||null==(e=o.responseDomain)?void 0:e.textFields){let e={};o.responseDomain.textFields.forEach(s=>{e[s.id]=""}),t(e)}},[o]),!(null==o||null==(e=o.responseDomain)?void 0:e.textFields))return(0,l.jsx)("div",{children:"No form fields configured"});let n=o.responseDomain.textFields;return(0,l.jsxs)("div",{className:"p-4 border-t bg-gray-50 space-y-4",children:[n.map(e=>(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("input",{type:e.type||"text",value:s[e.id]||"",onChange:s=>((e,s)=>{t(t=>({...t,[e]:s})),i(s=>{let t={...s};return delete t[e],t})})(e.id,s.target.value),placeholder:e.placeholder||"",className:"w-full px-6 py-2.5 bg-white text-blue-400 rounded-[100px] border border-blue-400 focus:outline-0","aria-invalid":!!r[e.id],"aria-describedby":r[e.id]?"".concat(e.id,"-error"):void 0}),r[e.id]&&(0,l.jsx)("p",{id:"".concat(e.id,"-error"),className:"text-xs text-red-500",children:r[e.id]})]},e.id)),(0,l.jsx)("button",{onClick:()=>{if((()=>{let e={},t=!0;return n.forEach(l=>{var a,r;let i=s[l.id]||"";l.required&&!i.trim()&&(e[l.id]="This field is required",t=!1),"email"===l.type&&i&&!/\S+@\S+\.\S+/.test(i)&&(e[l.id]="Please enter a valid email address",t=!1),"tel"===l.type&&i&&!/^[+]?[\d\s\-()]+$/.test(i)&&(e[l.id]="Please enter a valid phone number",t=!1),(null==(a=l.validation)?void 0:a.minLength)&&i.length<l.validation.minLength&&(e[l.id]="Must be at least ".concat(l.validation.minLength," characters"),t=!1),(null==(r=l.validation)?void 0:r.maxLength)&&i.length>l.validation.maxLength&&(e[l.id]="Must be at most ".concat(l.validation.maxLength," characters"),t=!1)}),i(e),t})()){let e={};n.forEach(t=>{e[t.label]=s[t.id]||""}),w(JSON.stringify(e))}},disabled:f,className:"px-6 py-2.5 bg-white text-blue-400 rounded-[100px] border border-blue-400 disabled:hidden",children:f?"...":"Submit"})]})},q=()=>(0,l.jsxs)("div",{className:"p-3 border-t bg-gray-50",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("input",{value:u,onChange:e=>{x(e.target.value),v&&j(null)},onKeyPress:C,placeholder:"Type your message...",disabled:f,className:"flex-1 border rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"}),(0,l.jsx)("button",{onClick:S,disabled:!u.trim()||f,className:"px-4 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 disabled:hidden",children:f?"...":"Send"})]}),v&&(0,l.jsx)("p",{className:"text-xs text-red-500 mt-1",children:v})]});return(0,l.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-200 w-full md:w-auto h-[680px] flex flex-col overflow-hidden",children:[(0,l.jsx)("div",{className:"bg-[#38424B] px-4 py-3 flex items-center justify-between",children:(0,l.jsx)(r.default,{src:"logo.png",alt:"Escape Elite",width:50,height:0,className:"h-8 w-auto object-cover"})}),(0,l.jsxs)("div",{className:"flex-1 p-4 overflow-y-auto space-y-3",children:[e.map((e,s)=>(0,l.jsx)("div",{className:"flex ".concat("bot"===e.sender?"justify-start":"justify-end"),children:"bot"===e.sender?(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)(r.default,{src:"images/user.png",alt:"chatbot",width:10,height:10,className:"w-10 h-10 rounded-full"}),(0,l.jsx)("div",{className:"bg-blue-100 text-gray-800 px-4 py-2 rounded-2xl max-w-[75%]",children:e.text})]}):(0,l.jsxs)("div",{className:"flex items-start gap-2 flex-row-reverse",children:[(0,l.jsx)(r.default,{src:"images/user.png",alt:"chatbot",width:10,height:10,className:"w-10 h-10 rounded-full"}),(0,l.jsx)("div",{className:"border-blue-400 border text-blue-400 px-6 py-2 rounded-full max-w-[75%]",children:e.text})]})},s)),f&&(0,l.jsx)("div",{className:"flex justify-start",children:(0,l.jsx)("div",{className:"px-4 py-2 rounded-2xl bg-gray-200 text-gray-800",children:(0,l.jsxs)("div",{className:"flex space-x-1",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce"}),(0,l.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,l.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),v&&!f&&(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsx)("div",{className:"px-4 py-2 rounded-lg bg-red-100 text-red-800 text-sm",children:v})})]}),(()=>{if(!o)return null;switch(o.questionType){case"DATE_PICKER":return(()=>{var e,s;return(0,l.jsxs)("div",{className:"p-3 border-t bg-gray-50",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-3 items-start space-x-2",children:[(0,l.jsx)("input",{type:"date",value:m,onChange:e=>b(e.target.value),min:(()=>{var e,s;return(null==o||null==(s=o.responseDomain)||null==(e=s.validation)?void 0:e.minDate)?o.responseDomain.validation.minDate:new Date().toISOString().split("T")[0]})(),max:(()=>{var e,s;return(null==o||null==(s=o.responseDomain)||null==(e=s.validation)?void 0:e.maxDate)?o.responseDomain.validation.maxDate:""})(),disabled:f,className:"min-w-1/2 flex-1 px-6 py-2.5 bg-bg-white text-blue-400 rounded-full border border-blue-400  focus:border-blue-400 disabled:bg-gray-100","aria-label":"Select date"}),(0,l.jsx)("button",{onClick:E,disabled:!m||f,className:"px-6 py-2.5 bg-white text-blue-400 rounded-full border border-blue-400 disabled:hidden",children:f?"...":"Select"})]}),(null==o||null==(s=o.responseDomain)||null==(e=s.validation)?void 0:e.minDate)&&(0,l.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Minimum date:"," ",T(o.responseDomain.validation.minDate)]}),v&&(0,l.jsx)("p",{className:"text-xs text-red-500 mt-1",children:v})]})})();case"DROP_DOWN":case"SELECT":return(()=>{var e,s,a;let r=t.length>0?t:(null==o||null==(e=o.responseDomain)?void 0:e.options)||[];return(0,l.jsxs)("div",{className:"p-3 border-t bg-gray-50",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3 flex-col space-x-2",children:[(0,l.jsxs)("select",{value:h,onChange:e=>p(e.target.value),disabled:f,className:"flex-1 border text-blue-400 border-blue-400 rounded-[100px] px-6 py-2.5 focus-visible:border-[1px] focus:outline-0 focus:border-blue-400 disabled:bg-gray-100","aria-label":"Select from dropdown",children:[(0,l.jsx)("option",{value:"",children:"Select an option"}),r.map((e,s)=>(0,l.jsx)("option",{value:e,children:e},s))]}),(0,l.jsx)("button",{onClick:D,disabled:!h||f,className:"px-4 py-2 border border-blue-400 bg-white text-blue-400 rounded-[100px] hover:outline-0 disabled:hidden",children:f?"...":"Submit"})]}),(null==o||null==(a=o.responseDomain)||null==(s=a.validation)?void 0:s.required)&&(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"This field is required"}),v&&(0,l.jsx)("p",{className:"text-xs text-red-500 mt-1",children:v})]})})();case"MCQ_SINGLE_CHOICE":case"MCQ_MULTIPLE_CHOICE":if(t.length>0)return(0,l.jsx)("div",{className:"p-3 flex flex-wrap gap-2 border-t bg-white",children:t.map((e,s)=>(0,l.jsx)("button",{onClick:()=>w(e),disabled:f,className:"px-6 py-2.5 bg-bg-white text-blue-400 rounded-full border border-blue-400 text-sm transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-500",children:e},s))});return q();case"MULTI_SLIDER":return(0,l.jsx)(L,{});case"MULTIPLE_FREE_FORM_TEXT":return(0,l.jsx)(k,{});case"ROOM_SELECTION":return(()=>{let e=(e,s,t)=>{N(l=>{let a=[...l];return a[e][s]=Math.max(0,t),"children"===s&&(a[e].childAges=Array(t).fill(0)),a})},s=y.reduce((e,s)=>e+s.adults+s.children,0);return(0,l.jsxs)("div",{className:"p-3 border-t bg-gray-50 space-y-4",children:[(0,l.jsx)("p",{children:"Number of Rooms (1-10):"}),y.map((s,t)=>(0,l.jsxs)("div",{className:"p-3 border rounded-lg bg-white space-y-3 shadow-sm",children:[(0,l.jsxs)("p",{className:"font-semibold",children:["Room ",t+1]}),(0,l.jsxs)("div",{className:"flex flex-row items-center space-x-2",children:[(0,l.jsx)("span",{className:"flex-1",children:"Adults"}),(0,l.jsxs)("div",{className:"w-[145px] flex gap-6 px-6 py-3 items-center border border-blue-400 rounded-[100px]",children:[(0,l.jsx)("button",{onClick:()=>e(t,"adults",s.adults-1),className:"flex justify-center items-center w-5 h-5 bg-white border border-blue-400 text-blue-400 rounded-[100%]",children:"-"}),(0,l.jsx)("span",{className:"text-blue-400",children:s.adults}),(0,l.jsx)("button",{onClick:()=>e(t,"adults",s.adults+1),className:"flex justify-center items-center w-5 h-5 bg-blue-400 border border-blue-400 text-white rounded-[100%]",children:"+"})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"flex-1",children:"Children"}),(0,l.jsxs)("div",{className:"w-[145px] flex gap-6 px-6 py-3 items-center border border-blue-400 rounded-[100px]",children:[(0,l.jsx)("button",{onClick:()=>e(t,"children",s.children-1),className:"flex justify-center items-center w-5 h-5 bg-white border border-blue-400 text-blue-400 rounded-[100%]",children:"-"}),(0,l.jsx)("span",{children:s.children}),(0,l.jsx)("button",{onClick:()=>e(t,"children",s.children+1),className:"flex justify-center items-center w-5 h-5 bg-blue-400 border border-blue-400 text-white rounded-[100%]",children:"+"})]})]}),s.children>0&&(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"flex-1 text-sm font-medium",children:"Child Ages"}),s.childAges.map((e,s)=>(0,l.jsxs)("select",{value:e,onChange:e=>{var l;return l=parseInt(e.target.value),void N(e=>{let a=[...e];return a[t].childAges[s]=l,a})},className:"w-[145px] border border-blue-400 rounded-[100px] px-6 py-3 focus:outline-0",children:[(0,l.jsx)("option",{value:0,children:"-"}),Array.from({length:17},(e,s)=>(0,l.jsx)("option",{value:s+1,children:s+1},s+1))]},s))]})]},t)),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Total occupants: ",s]}),(0,l.jsx)("button",{onClick:()=>{w(JSON.stringify(y))},disabled:f,className:"px-6 py-2.5 border border-blue-400 text-blue-400 rounded-[100px] hover:border-blue-400 disabled:hidden",children:f?"...":"Submit"})]})})();default:return q()}})()]})}},6903:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,1356,23)),Promise.resolve().then(t.bind(t,5086)),Promise.resolve().then(t.bind(t,7189))},7189:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});var l=t(5155);t(2115);var a=t(5239);function r(e){let{image:s,titleDesktop:t,titleMobile:r,paragraph:i,rating:n,fullScreen:d=!0}=e;return(0,l.jsxs)("section",{id:"home",className:"relative ".concat(d?"h-screen":"h-[306px] md:h-[700px]"),children:[(0,l.jsx)(a.default,{src:"".concat("/escapeelite").concat(s),alt:"",fill:!0,className:"object-cover object-center"}),(0,l.jsx)("div",{className:"absolute z-0 inset-0 bg-black opacity-50"}),(0,l.jsxs)("div",{className:"container h-full w-full px-5 mx-auto flex flex-col md:flex-row items-center justify-center md:justify-start text-white text-center]",children:[(0,l.jsxs)("div",{className:"hidden float-left z-10 md:w-1/2 md:block pl-16",children:[(0,l.jsx)("h2",{className:"text-4xl md:text-4xl font-medium mb-4 text-left",children:t}),(0,l.jsx)("p",{children:i}),n&&(0,l.jsx)("div",{className:"flex items-center mb-5",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,l.jsx)("svg",{className:"w-10 h-10 ".concat(void 0!==n&&s<n?"text-yellow-400":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},s))})]}),(0,l.jsxs)("div",{className:"px-16 z-10 md:hidden text-center md:text-left",children:[(0,l.jsx)("h2",{className:"text-4xl md:text-4xl font-medium mb-4",children:r}),(0,l.jsx)("p",{children:i})]})]})]})}}},e=>{e.O(0,[239,441,255,358],()=>e(e.s=6903)),_N_E=e.O()}]);